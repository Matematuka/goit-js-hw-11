{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector('.search-form');\nconst pictures = document.querySelector('.gallery');\nconst spanLoader = document.querySelector('.loader');\n\nform.addEventListener('submit', searchImage);\nfunction searchImage(evt) {\n    evt.preventDefault();\n    const image = evt.target.elements.image.value.trim();\n    if (image === '') {\n        iziToast.show({\n            title: 'Error',\n            message: 'Please enter a search term to begin your search.',\n            titleSize: '16px',\n            titleLineHeight: '150%',\n            messageSize: '16px',\n            messageLineHeight: '150%',\n            backgroundColor: '#ef4040',\n            position: 'bottomRight'\n        });\n        return;\n    } else {\n        pictures.innerHTML = '<span class=\"loader\"></span>';\n        getImage(image).then(onFulfield).catch(onRejected).finally(hideLoader);\n    }\n    evt.target.reset();   \n}\n\nfunction onFulfield(data) {\n    if (data.totalHits > 0) {\n        const markup = data.hits.map(imageTemplate).join('\\n\\n');\n        pictures.innerHTML = markup;\n        gallery.refresh();\n    }\n}\n    function onRejected(data) {\n         pictures.innerHTML = \"\";\n        iziToast.show({\n    title: 'Error',\n    message: 'There are no images matching your search query. Please try again!',   \n    titleSize: '16px',\n    titleLineHeight: '150%',\n    messageSize: '16px',\n    messageLineHeight: '150%',\n    backgroundColor: '#ef4040',\n    position: 'bottomRight'\n        });              \n}   \n        \nfunction hideLoader() {\n    setTimeout(() => {\n    spanLoader.style.display = 'none';\n  }, 500);\n}\n\nfunction getImage(imageName) {\n    const BASE_URL = 'https://pixabay.com/api';\n    const PARAMS = `?key=42174217-6daf07c41ac875e98ae2151fa&q=${imageName}&image_type=photo&orientation=horizontal&safesearch=true`;\n    const url = BASE_URL + PARAMS;\n    return fetch(url).then(res => res.json());\n}\n\nfunction imageTemplate ({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) {\n    return `<li class=\"gallery-item\"><a href=\"${largeImageURL}\"><img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" /></a>\n<div class=\"description\"> <p>Likes <span>${likes}</span></p><p>Views <span>${views}</span></p><p>Comments <span>${comments}</span></p><p>Downloads <span>${downloads}</span></p></div></li>`;\n}\n\nconst gallery = new SimpleLightbox('.gallery a', {\n   captionsData: 'alt',\n   captionDelay: 250,\n });"],"names":["form","pictures","spanLoader","searchImage","evt","image","iziToast","getImage","onFulfield","onRejected","hideLoader","data","markup","imageTemplate","gallery","imageName","BASE_URL","PARAMS","url","res","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAW,SAAS,cAAc,UAAU,EAC5CC,EAAa,SAAS,cAAc,SAAS,EAEnDF,EAAK,iBAAiB,SAAUG,CAAW,EAC3C,SAASA,EAAYC,EAAK,CACtBA,EAAI,eAAc,EAClB,MAAMC,EAAQD,EAAI,OAAO,SAAS,MAAM,MAAM,OAC9C,GAAIC,IAAU,GAAI,CACdC,EAAS,KAAK,CACV,MAAO,QACP,QAAS,mDACT,UAAW,OACX,gBAAiB,OACjB,YAAa,OACb,kBAAmB,OACnB,gBAAiB,UACjB,SAAU,aACtB,CAAS,EACD,MACR,MACQL,EAAS,UAAY,+BACrBM,EAASF,CAAK,EAAE,KAAKG,CAAU,EAAE,MAAMC,CAAU,EAAE,QAAQC,CAAU,EAEzEN,EAAI,OAAO,OACf,CAEA,SAASI,EAAWG,EAAM,CACtB,GAAIA,EAAK,UAAY,EAAG,CACpB,MAAMC,EAASD,EAAK,KAAK,IAAIE,CAAa,EAAE,KAAK;AAAA;AAAA,CAAM,EACvDZ,EAAS,UAAYW,EACrBE,EAAQ,QAAO,CAClB,CACL,CACI,SAASL,EAAWE,EAAM,CACrBV,EAAS,UAAY,GACtBK,EAAS,KAAK,CAClB,MAAO,QACP,QAAS,oEACT,UAAW,OACX,gBAAiB,OACjB,YAAa,OACb,kBAAmB,OACnB,gBAAiB,UACjB,SAAU,aACd,CAAS,CACT,CAEA,SAASI,GAAa,CAClB,WAAW,IAAM,CACjBR,EAAW,MAAM,QAAU,MAC5B,EAAE,GAAG,CACR,CAEA,SAASK,EAASQ,EAAW,CACzB,MAAMC,EAAW,0BACXC,EAAS,6CAA6CF,4DACtDG,EAAMF,EAAWC,EACvB,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAC5C,CAEA,SAASN,EAAe,CAAC,aAAAO,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAG,CAC5F,MAAO,qCAAqCL,sCAAkDD,WAAsBE;AAAA,2CAC7EC,8BAAkCC,iCAAqCC,kCAAyCC,yBAC3J,CAEA,MAAMZ,EAAU,IAAIa,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GACjB,CAAE"}